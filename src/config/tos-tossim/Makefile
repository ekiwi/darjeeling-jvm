CC=gcc 
CFLAGS=-Wall
main: 
	ncc -c -shared -fPIC -o build/tossim/sim.o -g -O0 -tossim -fnesc-nido-tosnodes=1000 -fnesc-simulate -fnesc-nido-motenumber=sim_node\(\)   -finline-limit=100000 -Wall -Wshadow -Wnesc-all -fnesc-separator=__ -target=micaz -fnesc-cfile=build/tossim/app.c -board=micasb -DIDENT_APPNAME=\"DarjeelingAppC\" -DIDENT_USERNAME=\"mazaninfardi\" -DIDENT_HOSTNAME=\"mazaninfardi-tu\" -DIDENT_USERHASH=0x07d6736dL -DIDENT_TIMESTAMP=0x4ae97578L -DIDENT_UIDHASH=0xce97716aL -Wno-nesc-data-race ../../platform/tinyos/nesc/DarjeelingAppC.nc   -fnesc-dump=components -fnesc-dump=variables -fnesc-dump=constants -fnesc-dump=typedefs -fnesc-dump=interfacedefs -fnesc-dump=tags -fnesc-dumpfile=app.xml -I../../platform/tinyos/nesc -I/usr/lib/ncc -I../../platform/tinyos/c -I../../platform/tinyos/nesc 
	g++ -c  -shared -fPIC -o build/tossim/pytossim.o -g -O0 -DIDENT_APPNAME=\"DarjeelingAppC\" -DIDENT_USERNAME=\"mazaninfardi\" -DIDENT_HOSTNAME=\"mazaninfardi-tu\" -DIDENT_USERHASH=0x07d6736dL -DIDENT_TIMESTAMP=0x4ae97578L -DIDENT_UIDHASH=0xce97716aL /home/mazaninfardi/Programs/tinyos-2.x/tos/lib/tossim/tossim_wrap.cxx -I/usr/include/python2.5 -I/home/mazaninfardi/Programs/tinyos-2.x/tos/lib/tossim -DHAVE_CONFIG_H 
	g++ -c  -shared -fPIC -o build/tossim/tossim.o -g -O0 -DIDENT_APPNAME=\"DarjeelingAppC\" -DIDENT_USERNAME=\"mazaninfardi\" -DIDENT_HOSTNAME=\"mazaninfardi-tu\" -DIDENT_USERHASH=0x07d6736dL -DIDENT_TIMESTAMP=0x4ae97578L -DIDENT_UIDHASH=0xce97716aL /home/mazaninfardi/Programs/tinyos-2.x/tos/lib/tossim/tossim.c -I/usr/include/python2.5 -I/home/mazaninfardi/Programs/tinyos-2.x/tos/lib/tossim
	g++ -c  -shared -fPIC -o build/tossim/c-support.o -g -O0 -DIDENT_APPNAME=\"DarjeelingAppC\" -DIDENT_USERNAME=\"mazaninfardi\" -DIDENT_HOSTNAME=\"mazaninfardi-tu\" -DIDENT_USERHASH=0x07d6736dL -DIDENT_TIMESTAMP=0x4ae97578L -DIDENT_UIDHASH=0xce97716aL /home/mazaninfardi/Programs/tinyos-2.x/tos/lib/tossim/hashtable.c -I/usr/include/python2.5 -I/home/mazaninfardi/Programs/tinyos-2.x/tos/lib/tossim
	g++ -shared -fPIC   build/tossim/pytossim.o build/tossim/sim.o build/tossim/tossim.o build/tossim/c-support.o -lstdc++  app.o build/unpack/djtimer.o build/unpack/infusion.o build/unpack/java_lang_String.o build/unpack/javax_fleck_Leds.o build/unpack/jlib_base.o build/unpack/panic.o build/unpack/array.o build/unpack/execution.o build/unpack/java_lang_Integer.o build/unpack/java_lang_System.o build/unpack/javax_fleck_Radio.o build/unpack/jlib_darjeeling.o build/unpack/util.o build/unpack/darjeeling.o build/unpack/global_id.o build/unpack/java_lang_Object.o build/unpack/java_lang_Thread.o build/unpack/javax_fleck_TestBoard.o build/unpack/object.o build/unpack/vm.o debug.o build/unpack/heap.o build/unpack/java_lang_Runtime.o build/unpack/javax_darjeeling_vm_Infusion.o build/unpack/javax_lang_Darjeeling.o build/unpack/opcodes.o build/unpack/vmthread.o -o _TOSSIMmodule.so

clean:
	rm -f main main.o hello_fn.o


